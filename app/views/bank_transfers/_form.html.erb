
<div  class="form-group">
  <%= form_with(model: bank_transfer, local: true) do |form| %>
      <% if bank_transfer.errors.any? %>
        <div class="alert alert-warning" role="alert" style="text-align: center;">
          <h3> يرجئ التاكد من التالي </h3>
          <ul style="list-style-type: none;">
            <% bank_transfer.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

  
    <div class="form-group ">
      <%= form.date_field :date_of_transfer, class: "form-control", placeholder: "تاريخ الحواله"%>
    </div>

    <div class="form-group">
      <%= form.select(:transfer_type, options_for_select(["ارسال","استلام"]), {:"data-style" => "form-control", multiple: true}, {class: "form-control", title: "اختر نوع الحواله"})  %>
    </div>

    <div class="form-group">
      <%= form.select(:section_type, options_for_select(["مدير","مندوب","مسوق","مساعد"]), {:"data-style" => "form-control", multiple: true}, {class: "form-control", title: "نوع الموضف", id:"type", onchange: "myfunction()"})  %>
    </div>

    <div class="form-group" id ="manger" style="display: none" >
      <%= form.collection_select(:manger_id, Manger.all, :id, :name, {:"data-style" => "selectpicker", multiple: true}, {class: "form-control", title: "المدير"})  %>
    </div>

    <div class="form-group" id ="delegate" style="display: none">
      <%= form.collection_select(:delegate_id, Delegate.all, :id, :name, {:"data-style" => "selectpicker", multiple: true}, {class: "form-control", title: "المندوب"})  %>
    </div>

    <div class="form-group" id="marketer" style="display: none">
      <%= form.collection_select(:marketer_id, Marketer.all, :id, :name, {:"data-style" => "selectpicker", multiple: true}, {class: "form-control", title: "المسوق"})  %>
    </div>
    <div class="form-group" id="assistant" style="display: none">
      <%= form.collection_select(:assistant_id, Assistant.all, :id, :name, {:"data-style" => "selectpicker", multiple: true}, {class: "form-control", title: "المساعد"})  %>
    </div>

    <div class="form-group">
      <%= form.number_field :price, class: "form-control", placeholder: 'المبلغ المحول' %>
    </div>

    <div class="form-group">
      <%= form.submit "موافق",class:"btn btn-outline-success my-2 my-sm-0" %>
    </div>
  <% end %>
</div>
<script type="text/javascript">

  function myfunction() {
    var type= document.getElementById("type")
    var manger = document.getElementById("manger");
    var delegate = document.getElementById("delegate");
    var marketer = document.getElementById("marketer");
    var assistant = document.getElementById("assistant");
    switch(type.value) {
      case "مدير":
        manger.style.display="block"
        delegate.style.display="none"
        marketer.style.display="none"
        assistant.style.display="none"
        break;
      case "مندوب":
        manger.style.display="none"
        delegate.style.display="block"
        marketer.style.display="none"
        assistant.style.display="none"
        break;
      case "مسوق":
        manger.style.display="none"
        delegate.style.display="none"
        marketer.style.display="block"
        assistant.style.display="none"
        break;
      case "مساعد":
        manger.style.display="none"
        delegate.style.display="none"
        marketer.style.display="none"
        assistant.style.display="block"
        break;
       }

  }

</script>